$(window).on("load",function(){function n(){var n=.25*$(window).innerHeight(),i=Math.round(1/n*1e4)/1e4;$(".fade").each(function(){var t=$(this).offset().top,e=$(window).scrollTop()+$(window).innerHeight();t<e?t<e-n?($(this).html(),$(this).css({transition:"opacity 0.1s linear",opacity:1})):($(this).html(),$(this).css({transition:"opacity 0.25s linear",opacity:(e-t)*i})):($(this).html(),$(this).css("opacity",0))})}$(".fade").css("opacity",0),n(),$(window).scroll(function(){n()}),function($,n){function i(n,i){h=!1,n.removeClass("is-current animated "+p),i.removeClass(m)}function t(t,e){!h&&n.cssanimations&&(h=!0,t.addClass(p),e.addClass(m).one(x,function(){i(t,e)}))}function e(){$(".field.is-current").find("input:first").click()}function o(n){v.height(n)}function a(n){var i=$(n).siblings("label");return i.addClass("animated fadeOut").one(x,function(){setTimeout(function(){i.removeClass("fadeOut")},1e3)})}function s(n){if(!h){var i=$(this).parent(".field"),e=i.is(":last-child")?i.parent().children(":first"):i.next();o(e.outerHeight()),d(e),a(n.target),setTimeout(function(){e.addClass("is-current animated"),t(i,e)},200),setTimeout(function(){$("input").prop("checked",!1)},1e3)}}function c(){m=g.val(),p=y.val(),e()}function r(n){n.preventDefault(),h||(C.each(function(n,i){var t=$(i),e=t.find("option"),o=Math.floor(Math.random()*e.length);t.val(e.eq(o).val())}),c())}function l(){for(var n=$(".field").length,i=0;i<n&&!window.CP.shouldStopExecution(1);)w.append("<li/>"),i++;window.CP.exitedLoop(1),d()}function d(n){w.find("li").removeClass("is-current").eq(n?$(".field").index(n):0).addClass("is-current")}function f(){v.on("click","label",s),C.on("change",c),k.on("click",r)}function u(){var n=v.children(":first");n.addClass("is-current animated"),o(n.outerHeight()),l(),f()}var h=!1,m=$("#select-entrances").val(),p=$("#select-exits").val(),v=$("#form__container"),w=$("#form__progress"),C=$("select"),g=$("#select-entrances"),y=$("#select-exits"),k=$("#lucky"),x="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";u()}(window.jQuery,window.Modernizr)});